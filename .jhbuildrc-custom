# -*- mode: python -*-

#checkoutroot = '/usr/local/src/gnome'
#prefix = '/usr/local/gtk'
if _osx_version.startswith("8."):
    os.environ["MACOSX_DEPLOYMENT_TARGET"] = "10.4"
    module_makeargs["gtk+"]="LDFLAGS='-framework AppKit -framework Carbon -framework CoreFoundation -framework ApplicationServices -lobjc'"
    module_makeargs["ige-mac-integration"]="LDFLAGS='-framework AppKit -lobjc'"
    module_makeargs["aqbanking"]="LDFLAGS='-liconv'"
   # setup_sdk_10_4()
    pass
else:
    os.environ["MACOSX_DEPLOYMENT_TARGET"] = "10.5"
    skip.append("bison")

autogenargs=autogenargs + ' --disable-xlib'
module_autogenargs["gconf"]="--enable-static --enable-shared --disable-scrollkeeper --disable-xlib"
module_autogenargs["libofx"]="--with-opensp-includes=" + prefix + "/include/OpenSP --with-opensp-libs=" + prefix + "/lib"
module_autogenargs["libgnomeui"]="--disable-static --enable-shared --disable-scrollkeeper --without-x"
module_autogenargs["libdbi-drivers"]="--with-dbi-incdir=" + prefix + "/include --with-dbi-libdir=" + prefix + "/lib"


moduleset = "http://github.com/jralls/gnucash-on-osx/raw/master/modulesets/gnucash.modules"
modules = ['meta-gtk-osx-bootstrap', 'meta-gtk-osx-core', 'meta-gtk-osx-freetype', 'gnucash']

#build_policy = "updated-deps"




